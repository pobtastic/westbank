<!DOCTYPE html>
<html>
<head>
<title>West Bank: Routine at 49920</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../westbank.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="49888.html">49888</a>
</td>
<td class="up">Up: <a href="../maps/all.html#49920">Map</a></td>
<td class="next">
Next: <a href="50107.html">50107</a>
</td>
</tr>
</table>
<div class="description">49920: Draw Playfield</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="52282.html">Draw_PlayWithDoors</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="49920"></span>
<div class="comments">
<div class="paragraph">
<table class="default">
<tr>
<th colspan="1" rowspan="1">Playfield Output</th>
</tr>
<tr>
<td class="centre" colspan="1" rowspan="1"><img alt="playfield" src="../../images/play_area/playfield.png" /></td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Draw_Playfield</td>
<td class="address-2"><span id="49920"></span>49920</td>
<td class="instruction">LD L,(IX+0)</td>
<td class="comment-1" rowspan="3">Set <a href="54758.html">Copy_Routine</a> as the destination address at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49923"></span>49923</td>
<td class="instruction">LD H,(IX+1)</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49926"></span>49926</td>
<td class="instruction">LD (50104),HL</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49929"></span>49929</td>
<td class="instruction">LD HL,16384</td>
<td class="comment-1" rowspan="5">Clears the screen buffer by writing $00 to all 6912 memory locations.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49932"></span>49932</td>
<td class="instruction">LD DE,16385</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49935"></span>49935</td>
<td class="instruction">LD BC,6911</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49938"></span>49938</td>
<td class="instruction">LD (HL),0</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49940"></span>49940</td>
<td class="instruction">LDIR</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="49942"></span>
<div class="comments">
<div class="paragraph">
Draws the numbering of the deposit boxes on the left and right of the screen.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49942"></span>49942</td>
<td class="instruction">LD HL,16385</td>
<td class="comment-1" rowspan="4">Points <span class="register">HL</span> to 16385 (screen buffer) and <span class="register">DE</span> to <a href="57248.html">SlotNumbers_Left</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49945"></span>49945</td>
<td class="instruction">LD DE,57248</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49948"></span>49948</td>
<td class="instruction">LD BC,2060</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49951"></span>49951</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49954"></span>49954</td>
<td class="instruction">LD HL,16403</td>
<td class="comment-1" rowspan="4">Points <span class="register">HL</span> to 16403 (screen buffer) and <span class="register">DE</span> to <a href="57248.html#57344">SlotNumbers_Right</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49957"></span>49957</td>
<td class="instruction">LD DE,57344</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49960"></span>49960</td>
<td class="instruction">LD BC,2060</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49963"></span>49963</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="49966"></span>
<div class="comments">
<div class="paragraph">
Draws the centrepiece "till" image.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49966"></span>49966</td>
<td class="instruction">LD HL,16398</td>
<td class="comment-1" rowspan="5">Points <span class="register">HL</span> to 16398 (screen buffer) and <span class="register">DE</span> to <a href="57440.html">Centrepiece</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49969"></span>49969</td>
<td class="instruction">LD DE,57440</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49972"></span>49972</td>
<td class="instruction">LD B,24</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49974"></span>49974</td>
<td class="instruction">LD C,4</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49976"></span>49976</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="49979"></span>
<div class="comments">
<div class="paragraph">
Draws the game play area (doors and wall sections).
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49979"></span>49979</td>
<td class="instruction">LD HL,16480</td>
<td class="comment-1" rowspan="4">Points <span class="register">HL</span> to 16480 (screen buffer) and <span class="register">DE</span> to <a href="57536.html">DoorsTop</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49982"></span>49982</td>
<td class="instruction">LD DE,57536</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49985"></span>49985</td>
<td class="instruction">LD BC,2080</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49988"></span>49988</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49991"></span>49991</td>
<td class="instruction">LD HL,16512</td>
<td class="comment-1" rowspan="5">Points <span class="register">HL</span> to 16512 (screen buffer) and <span class="register">DE</span> to <a href="57792.html">WallLeft</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49994"></span>49994</td>
<td class="instruction">LD DE,57792</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49997"></span>49997</td>
<td class="instruction">LD B,88</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="49999"></span>49999</td>
<td class="instruction">LD C,2</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50001"></span>50001</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50004"></span>50004</td>
<td class="instruction">LD HL,16521</td>
<td class="comment-1" rowspan="5">Points <span class="register">HL</span> to 16521 (screen buffer) and <span class="register">DE</span> to <a href="57968.html">WallMiddle</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50007"></span>50007</td>
<td class="instruction">LD DE,57968</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50010"></span>50010</td>
<td class="instruction">LD B,88</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50012"></span>50012</td>
<td class="instruction">LD C,4</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50014"></span>50014</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50017"></span>50017</td>
<td class="instruction">LD HL,16532</td>
<td class="comment-1" rowspan="5">Points <span class="register">HL</span> to 16532 (screen buffer) and <span class="register">DE</span> to <a href="57968.html">WallMiddle</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50020"></span>50020</td>
<td class="instruction">LD DE,57968</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50023"></span>50023</td>
<td class="instruction">LD B,88</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50025"></span>50025</td>
<td class="instruction">LD C,4</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50027"></span>50027</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50030"></span>50030</td>
<td class="instruction">LD HL,16543</td>
<td class="comment-1" rowspan="5">Points <span class="register">HL</span> to 16543 (screen buffer) and <span class="register">DE</span> to <a href="58320.html">DoorFrame_Side</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50033"></span>50033</td>
<td class="instruction">LD DE,58320</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50036"></span>50036</td>
<td class="instruction">LD B,88</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50038"></span>50038</td>
<td class="instruction">LD C,1</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50040"></span>50040</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50043"></span>50043</td>
<td class="instruction">LD HL,18656</td>
<td class="comment-1" rowspan="4">Points <span class="register">HL</span> to 18656 (screen buffer) and <span class="register">DE</span> to <a href="58408.html">DoorBottom</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50046"></span>50046</td>
<td class="instruction">LD DE,58408</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50049"></span>50049</td>
<td class="instruction">LD BC,2080</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50052"></span>50052</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="50055"></span>
<div class="comments">
<div class="paragraph">
Draws the Bank Teller desks.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50055"></span>50055</td>
<td class="instruction">LD HL,20512</td>
<td class="comment-1" rowspan="4">Points <span class="register">HL</span> to 20512 (screen buffer) and <span class="register">DE</span> to <a href="58664.html">Tellers</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50058"></span>50058</td>
<td class="instruction">LD DE,58664</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50061"></span>50061</td>
<td class="instruction">LD BC,8224</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50064"></span>50064</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="50067"></span>
<div class="comments">
<div class="paragraph">
Writes the "SCORE" and "LIVES" labels (these aren't text, they're images).
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50067"></span>50067</td>
<td class="instruction">LD HL,20673</td>
<td class="comment-1" rowspan="4">Points <span class="register">HL</span> to 20673 (screen buffer) and <span class="register">DE</span> to <a href="59688.html">Score_Text_Image</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50070"></span>50070</td>
<td class="instruction">LD DE,59688</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50073"></span>50073</td>
<td class="instruction">LD BC,4102</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50076"></span>50076</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50079"></span>50079</td>
<td class="instruction">LD HL,20656</td>
<td class="comment-1" rowspan="4">Points <span class="register">HL</span> to 20656 (screen buffer) and <span class="register">DE</span> to <a href="59784.html">Lives_Text_Image</a>, then calls the routine at <a href="49920.html#50103">Alias_Copy_Routine</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50082"></span>50082</td>
<td class="instruction">LD DE,59784</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50085"></span>50085</td>
<td class="instruction">LD BC,5638</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50088"></span>50088</td>
<td class="instruction">CALL <a href="49920.html#50103">Alias_Copy_Routine</a></td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="50091"></span>
<div class="comments">
<div class="paragraph">
Copies attribute data to the screen.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50091"></span>50091</td>
<td class="instruction">LD HL,60672</td>
<td class="comment-1" rowspan="4">Copies 768 bytes of attribute data from <a href="60672.html">60672</a> to 22528.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50094"></span>50094</td>
<td class="instruction">LD DE,22528</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50097"></span>50097</td>
<td class="instruction">LD BC,768</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50100"></span>50100</td>
<td class="instruction">LDIR</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50102"></span>50102</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="50103"></span>
<div class="comments">
<div class="paragraph">
An alias which just calls the normal <a href="54758.html">Copy_Routine</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">Alias_Copy_Routine</td>
<td class="address-2"><span id="50103"></span>50103</td>
<td class="instruction">CALL <a href="54758.html">Copy_Routine</a></td>
<td class="comment-1" rowspan="1">Draws the image pointed to in <span class="register">DE</span> to the screen location in <span class="register">HL</span> using the dimensions in <span class="register">BC</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="50106"></span>50106</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="49888.html">49888</a>
</td>
<td class="up">Up: <a href="../maps/all.html#49920">Map</a></td>
<td class="next">
Next: <a href="50107.html">50107</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; DINAMIC SOFTWARE 1985 &copy; 2023 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
<div><a href="../../asm/C300.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>